<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />

		<meta
			name="viewport"
			content="width=device-width, initial-scale=1"
		/>
		<meta
			http-equiv="Content-Security-Policy"
			content="upgrade-insecure-requests"
		/>

		<!-- Preload critical fonts -->
		<link
			rel="preconnect"
			href="https://fonts.googleapis.com"
		/>
		<link
			rel="preconnect"
			href="https://fonts.gstatic.com"
			crossorigin
		/>
		<link
			rel="preload"
			href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
			as="style"
			onload="this.onload=null;this.rel='stylesheet'"
		/>
		<noscript
			><link
				rel="stylesheet"
				href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
		/></noscript>

		<!-- Panda CSS -->
		<link rel="stylesheet" href="/styled-system/styles.css" />

		<link
			rel="alternate"
			type="application/rss+xml"
			title="RSS"
			href="https://nick.karnik.io/rss"
		/>
		<!-- Google Analytics: lazy loader to reduce unused JS during dev/preview -->
		<script>
			(function(){
				function loadGA(){
					if (window.__gaLoaded) return;
					window.__gaLoaded = true;
					var s = document.createElement('script');
					s.async = true;
					s.src = 'https://www.googletagmanager.com/gtag/js?id=G-62FC7BDSGJ';
					document.head.appendChild(s);
					window.dataLayer = window.dataLayer || [];
					window.gtag = function(){ dataLayer.push(arguments); };
					gtag('js', new Date());
					gtag('config', 'G-62FC7BDSGJ', { anonymize_ip: true });
				}
				var consent = null;
				try { consent = localStorage.getItem('ga_consent'); } catch (e) {}
				if (consent === 'granted') {
					(window.requestIdleCallback || function(cb){ setTimeout(cb, 2000); })(loadGA);
				} else {
					window.addEventListener('click', function onFirst(){ loadGA(); window.removeEventListener('click', onFirst, { capture: false }); }, { once: true, passive: true });
				}
			})();
		</script>
		<title>Nick Karnik | Engineering Leader & Software Engineer</title>
	</head>
	<body>
		<div id="root"></div>
		<script
			type="module"
			src="/src/main.tsx"
		></script>
	</body>
</html>
