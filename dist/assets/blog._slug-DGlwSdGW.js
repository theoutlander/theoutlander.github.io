import{r as s,m as b,c as ie,a as ue,e as le,M as k,I as _,b as H,i as fe,d as L,w as U,t as de,f as ge,g as pe,j as i,h as xe,k as me,l as he,C as Pe,H as ve,n as Re,T as O,B as Ce,R as ye}from"./index-3LQ3mW9z.js";import{c as G,I as je}from"./image-uN04zB7N.js";function we(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function I(e={}){const{name:t,strict:n=!0,hookName:r="useContext",providerName:c="Provider",errorMessage:u,defaultValue:g}=e,f=s.createContext(g);f.displayName=t;function p(){const v=s.useContext(f);if(!v&&n){const R=new Error(u??we(r,c));throw R.name="ContextError",Error.captureStackTrace?.(R,p),R}return v}return[f.Provider,p,f]}const[tt,be]=I({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});function Se(...e){return t=>{const n=[];for(const r of e)if(typeof r=="function"){const c=r(t);typeof c=="function"&&n.push(c)}else r&&(r.current=t);if(n.length)return()=>{for(const r of n)r()}}}function Ee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const A=e=>{const t=s.memo(s.forwardRef((n,r)=>{const{asChild:c,children:u,...g}=n;if(!c)return s.createElement(e,{...g,ref:r},u);if(!s.isValidElement(u))return null;const f=s.Children.only(u),p=Ee(f);return s.cloneElement(f,{...b(g,f.props),ref:r?Se(r,p):p})}));return t.displayName=e.displayName||e.name,t},ke=()=>{const e=new Map;return new Proxy(A,{apply(t,n,r){return A(r[0])},get(t,n){const r=n;return e.has(r)||e.set(r,A(r)),e.get(r)}})},S=ke(),[rt,Le]=I({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}}),K=()=>(e,t)=>t.reduce((n,r)=>{const[c,u]=n,g=r;return u[g]!==void 0&&(c[g]=u[g]),delete u[g],[c,u]},[{},{...e}]);var Q=typeof globalThis.document<"u"?s.useLayoutEffect:s.useEffect;function V(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r]=s.useState(t),[c,u]=s.useState(r),g=e().value!==void 0,f=s.useRef(c);f.current=g?e().value:c;const p=s.useRef(f.current);Q(()=>{p.current=f.current},[c,e().value]);const v=x=>{const m=p.current,C=L(x)?x(m):x;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:C,prev:m}),g||u(C),n(C,m)||e().onChange?.(C,m)};function R(){return g?e().value:c}return{initial:r,ref:f,get:R,set(x){(e().sync?H.flushSync:fe)(()=>v(x))},invoke(x,m){e().onChange?.(x,m)},hash(x){return e().hash?.(x)??String(x)}}}V.cleanup=e=>{s.useEffect(()=>e,[])};V.ref=e=>{const t=s.useRef(e);return{get:()=>t.current,set:n=>{t.current=n}}};function Ne(e){const t=s.useRef(e);return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}var Te=(e,t)=>{const n=s.useRef(!1),r=s.useRef(!1);s.useEffect(()=>{if(n.current&&r.current)return t();r.current=!0},[...(e??[]).map(c=>typeof c=="function"?c():c)]),s.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function Me(e,t={}){const n=s.useMemo(()=>{const{id:o,ids:a,getRootNode:d}=t;return ie({id:o,ids:a,getRootNode:d})},[t]),r=(...o)=>{e.debug&&console.log(...o)},c=e.props?.({props:ue(t),scope:n})??t,u=Ve(c),g=e.context?.({prop:u,bindable:V,scope:n,flush:Z,getContext(){return p},getComputed(){return M},getRefs(){return T},getEvent(){return C()}}),f=X(g),p={get(o){return f.current?.[o].ref.current},set(o,a){f.current?.[o].set(a)},initial(o){return f.current?.[o].initial},hash(o){const a=f.current?.[o].get();return f.current?.[o].hash(a)}},v=s.useRef(new Map),R=s.useRef(null),x=s.useRef(null),m=s.useRef({type:""}),C=()=>({...m.current,current(){return m.current},previous(){return x.current}}),W=()=>({...h,matches(...o){return o.includes(h.ref.current)},hasTag(o){return!!e.states[h.ref.current]?.tags?.includes(o)}}),T=Ne(e.refs?.({prop:u,context:p})??{}),y=()=>({state:W(),context:p,event:C(),prop:u,send:J,action:w,guard:D,track:Te,refs:T,computed:M,flush:Z,scope:n,choose:B}),w=o=>{const a=L(o)?o(y()):o;if(!a)return;const d=a.map(l=>{const P=e.implementations?.actions?.[l];return P||U(`[zag-js] No implementation found for action "${JSON.stringify(l)}"`),P});for(const l of d)l?.(y())},D=o=>L(o)?o(y()):e.implementations?.guards?.[o](y()),q=o=>{const a=L(o)?o(y()):o;if(!a)return;const d=a.map(P=>{const j=e.implementations?.effects?.[P];return j||U(`[zag-js] No implementation found for effect "${JSON.stringify(P)}"`),j}),l=[];for(const P of d){const j=P?.(y());j&&l.push(j)}return()=>l.forEach(P=>P?.())},B=o=>de(o).find(a=>{let d=!a.guard;return ge(a.guard)?d=!!D(a.guard):L(a.guard)&&(d=a.guard(y())),d}),M=o=>{le(e.computed,()=>"[zag-js] No computed object found on machine");const a=e.computed[o];return a({context:p,event:C(),prop:u,refs:T,scope:n,computed:M})},h=V(()=>({defaultValue:e.initialState({prop:u}),onChange(o,a){a&&(v.current.get(a)?.(),v.current.delete(a)),a&&w(e.states[a]?.exit),w(R.current?.actions);const d=q(e.states[o]?.effects);if(d&&v.current.set(o,d),a===_){w(e.entry);const l=q(e.effects);l&&v.current.set(_,l)}w(e.states[o]?.entry)}})),F=s.useRef(void 0),E=s.useRef(k.NotStarted);Q(()=>{queueMicrotask(()=>{const d=E.current===k.Started;E.current=k.Started,r(d?"rehydrating...":"initializing...");const l=F.current??h.initial;h.invoke(l,d?h.get():_)});const o=v.current,a=h.ref.current;return()=>{r("unmounting..."),F.current=a,E.current=k.Stopped,o.forEach(d=>d?.()),v.current=new Map,R.current=null,queueMicrotask(()=>{w(e.exit)})}},[]);const ae=()=>"ref"in h?h.ref.current:h.get(),J=o=>{queueMicrotask(()=>{if(E.current!==k.Started)return;x.current=m.current,m.current=o;let a=ae();const d=e.states[a].on?.[o.type]??e.on?.[o.type],l=B(d);if(!l)return;R.current=l;const P=l.target??a;r("transition",o.type,l.target||a,`(${l.actions})`);const j=P!==a;j?H.flushSync(()=>h.set(P)):l.reenter&&!j?h.invoke(a,a):w(l.actions??[])})};return e.watch?.(y()),{state:W(),send:J,context:p,prop:u,scope:n,refs:T,computed:M,event:C(),getStatus:()=>E.current}}function X(e){const t=s.useRef(e);return t.current=e,t}function Ve(e){const t=X(e);return function(r){return t.current[r]}}function Z(e){queueMicrotask(()=>{H.flushSync(()=>e())})}var $e=pe(e=>e);const[Y,N]=I({name:"ProgressContext",hookName:"useProgressContext",providerName:"<ProgressProvider />"}),ze=e=>e.children(N()),ee=s.forwardRef((e,t)=>{const n=N(),r=b(n.getLabelProps(),e);return i.jsx(S.label,{...r,ref:t})});ee.displayName="ProgressLabel";const te=s.forwardRef((e,t)=>{const n=N(),r=b(n.getRangeProps(),e);return i.jsx(S.div,{...r,ref:t})});te.displayName="ProgressRange";const _e=e=>{const t=s.useId(),{getRootNode:n}=be(),{dir:r,locale:c}=Le(),u={id:t,dir:r,locale:c,getRootNode:n,...e},g=Me(me,u);return xe(g,$e)},re=s.forwardRef((e,t)=>{const[n,r]=K()(e,["defaultValue","formatOptions","id","ids","locale","max","min","onValueChange","orientation","translations","value"]),c=_e(n),u=b(c.getRootProps(),r);return i.jsx(Y,{value:c,children:i.jsx(S.div,{...u,ref:t})})});re.displayName="ProgressRoot";const ne=s.forwardRef((e,t)=>{const[{value:n},r]=K()(e,["value"]),c=b(n.getRootProps(),r);return i.jsx(Y,{value:n,children:i.jsx(S.div,{...c,ref:t})})});ne.displayName="ProgressRootProvider";const oe=s.forwardRef((e,t)=>{const n=N(),r=b(n.getTrackProps(),e);return i.jsx(S.div,{...r,ref:t})});oe.displayName="ProgressTrack";const se=s.forwardRef((e,t)=>{const{children:n,...r}=e,c=N(),u=b(c.getValueTextProps(),r);return i.jsx(S.span,{...u,ref:t,children:n||c.percentAsString})});se.displayName="ProgressValueText";const Oe=e=>i.jsx(he.svg,{viewBox:"0 0 24 24",fill:"currentColor",...e,children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),{withProvider:ce,withContext:$,PropsProvider:Ae}=G({key:"progress"}),He=ce(ne,"root",{forwardAsChild:!0}),Ie=ce(re,"root"),We=Ae,De=$(ee,"label",{forwardAsChild:!0}),qe=$(oe,"track",{forwardAsChild:!0}),Be=$(te,"range",{forwardAsChild:!0}),Fe=$(se,"valueText",{forwardAsChild:!0}),Je=ze,Ue=Object.freeze(Object.defineProperty({__proto__:null,Context:Je,Label:De,PropsProvider:We,Range:Be,Root:Ie,RootProvider:He,Track:qe,ValueText:Fe},Symbol.toStringTag,{value:"Module"})),{withProvider:Ze,withContext:z}=G({key:"tag"}),Ge=Ze("div","root");z("span","label");z("button","closeTrigger",{defaultProps:{children:i.jsx(Oe,{})}});z("span","startElement");z("span","endElement");function Ke(){const[e,t]=s.useState(0),n="brand.600";return s.useEffect(()=>{const r=()=>{const c=document.documentElement,u=c.scrollTop/(c.scrollHeight-c.clientHeight)*100;t(Math.max(0,Math.min(100,u)))};return window.addEventListener("scroll",r,{passive:!0}),r(),()=>window.removeEventListener("scroll",r)},[]),i.jsx(Ue,{value:e,size:"xs",colorScheme:"blue",position:"fixed",top:0,left:0,right:0,zIndex:20,bg:"transparent",sx:{"& > div":{background:n}}})}function Qe({title:e,url:t,date:n,excerpt:r}){const c={"@context":"https://schema.org","@type":"BlogPosting",headline:e,datePublished:n??void 0,description:r??void 0,url:t};return i.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(c)}})}function Xe({post:e}){return i.jsxs(i.Fragment,{children:[i.jsx(Ke,{}),i.jsxs("head",{children:[i.jsx("title",{children:e.title}),i.jsx("link",{rel:"canonical",href:`https://nick.karnik.io/blog/${e.title.toLowerCase().replace(/\s+/g,"-")}`}),e.excerpt?i.jsx("meta",{name:"description",content:e.excerpt}):null,e.cover?i.jsx("meta",{property:"og:image",content:e.cover}):null]}),i.jsx(Qe,{title:e.title,url:`https://nick.karnik.io/blog/${e.title.toLowerCase().replace(/\s+/g,"-")}`,date:e.date,excerpt:e.excerpt}),i.jsxs(Pe,{maxW:"3xl",px:6,children:[e.cover?i.jsx(je,{src:e.cover,alt:"",mb:8,borderRadius:"xl",w:"full"}):null,i.jsx(ve,{size:"xl",mb:4,lineHeight:"1.2",children:e.title}),i.jsxs(Re,{gap:3,mb:6,children:[i.jsx(O,{fontSize:"sm",color:"gray.600",children:e.date?new Date(e.date).toDateString():""}),e.tags?.slice(0,4).map(t=>i.jsx(Ge,{size:"sm",colorScheme:"gray",children:t},t))]}),i.jsx(O,{color:"gray.800",mb:8,fontSize:"lg",lineHeight:"1.7",children:e.excerpt}),i.jsx(Ce,{prose:!0,maxW:"none",lineHeight:"1.7",fontSize:"lg",color:"gray.800",children:e.html?i.jsx("div",{dangerouslySetInnerHTML:{__html:e.html}}):i.jsx(O,{color:"gray.500",fontStyle:"italic",children:"Content not available"})})]})]})}const nt=()=>{const e=ye.useLoaderData();return i.jsx(Xe,{post:e})};export{nt as component};
